(function(){"use strict";var t={7372:function(t,o,e){var r=e(6369),n=function(){var t=this,o=t._self._c;return o("div",{staticClass:"bg-white",attrs:{id:"root"}},[o("div",{staticClass:"w-600px mx-auto"},[o("div",{staticClass:"p-4 rounded-lg border border-gray-300"},[o("HeaderAdd",{on:{addTodo:t.addTodo}}),o("ListTodo",{attrs:{todos:t.todos}}),o("FooterItem",{attrs:{todos:t.todos},on:{checkAllTodo:t.checkAllTodo,clearAllTodo:t.clearAllTodo}})],1)])])},s=[],l=function(){var t=this,o=t._self._c;return o("div",{staticClass:"todo-header"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"w-[560px] border rounded-[4px] border-[#ccc] h-[28px] pl-[7px] pr-[7px] pt-[4px] pb-[4px] focus:outline-none focus:border focus:box-shadow",attrs:{type:"text",placeholder:"请输入你的任务名称，按回车键确认"},domProps:{value:t.title},on:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.add.apply(null,arguments)},input:function(o){o.target.composing||(t.title=o.target.value)}}})])},i=[],d=e(691),a={name:"HeaderAdd",data(){return{title:""}},methods:{add(){if(!this.title.trim())return alert("输入不能为空");const t={id:(0,d.x0)(),title:this.title,done:!1};this.$emit("addTodo",t),this.title=""}}},c=a,u=e(1001),f=(0,u.Z)(c,l,i,!1,null,null,null),p=f.exports,h=function(){var t=this,o=t._self._c;return o("div",{staticClass:"ml-0 p-0 rounded-[2px] border border-[#ccc]"},t._l(t.todos,(function(t){return o("ListItem",{key:t.id,attrs:{todo:t}})})),1)},b=[],m=function(){var t=this,o=t._self._c;return o("li",{staticClass:"h-[36px] leading-[36px] p-[0] pl-[5px] pr-[5px] border-b hover:border-bottom-none hover:bg-[#ddd]"},[o("label",{staticClass:"float-left cursor-pointer"},[o("input",{staticClass:"mr-[6px]",attrs:{type:"checkbox"},domProps:{checked:t.todo.done},on:{change:function(o){return t.handleCheck(t.todo.id)}}}),o("span",[t._v(t._s(t.todo.title))])]),o("button",{staticClass:"btn btn-danger float-right before:content-initial",on:{click:function(o){return t.handleDelete(t.todo.id)}}},[t._v("删除")])])},v=[],x={name:"ListItem",props:["todo"],methods:{handleCheck(t){this.$bus.$emit("checkTodo",t)},handleDelete(t){confirm("确定删除吗？")&&this.$bus.$emit("deleteTodo",t)}}},g=x,k=(0,u.Z)(g,m,v,!1,null,"5a200341",null),T=k.exports,A={name:"ListTodo",components:{ListItem:T},props:["todos"]},y=A,_=(0,u.Z)(y,h,b,!1,null,"ac69ef6c",null),C=_.exports,w=function(){var t=this,o=t._self._c;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"h-[40px] leading-[40px] pl-[6px] mt-[5px"},[o("label",{staticClass:"display-inline-block ml-[20px] cursor-pointer"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.isAll,expression:"isAll"}],staticClass:"pr top-[-1px] mr-[5px]",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isAll)?t._i(t.isAll,null)>-1:t.isAll},on:{change:function(o){var e=t.isAll,r=o.target,n=!!r.checked;if(Array.isArray(e)){var s=null,l=t._i(e,s);r.checked?l<0&&(t.isAll=e.concat([s])):l>-1&&(t.isAll=e.slice(0,l).concat(e.slice(l+1)))}else t.isAll=n}}})]),o("span",[o("span",[t._v("已完成"+t._s(t.doneTotal))]),t._v(" / 全部"+t._s(t.total)+" ")]),o("button",{staticClass:"btn float-right mt-[5px] bg-[#da4f49] text-[#fff] border border-[#bd362f] focus:outline-none hover:text-[#fff] hover:bg-[#bd362f]",on:{click:t.clearAll}},[t._v("清除已完成任务")])])},$=[],O={name:"FooterItem",props:["todos"],computed:{total(){return this.todos.length},doneTotal(){let t=0;return this.todos.forEach((o=>{o.done&&t++})),t},isAll:{get(){return this.doneTotal===this.total&&this.total>0},set(t){this.$emit("checkAllTodo",t)}}},methods:{clearAll(){this.$emit("clearAllTodo")}}},I=O,P=(0,u.Z)(I,w,$,!1,null,null,null),Z=P.exports,j={name:"App",components:{HeaderAdd:p,ListTodo:C,FooterItem:Z},data(){return{todos:JSON.parse(localStorage.getItem("todos"))||[]}},methods:{addTodo(t){this.todos.unshift(t)},checkTodo(t){this.todos.forEach((o=>{o.id===t&&(o.done=!o.done)}))},deleteTodo(t){this.todos=this.todos.filter((o=>o.id!==t))},checkAllTodo(t){this.todos.forEach((o=>{o.done=t}))},clearAllTodo(){this.todos=this.todos.filter((t=>!t.done))}},watch:{todos:{deep:!0,handler(t){localStorage.setItem("todos",JSON.stringify(t))}}},mounted(){this.$bus.$on("checkTodo",this.checkTodo),this.$bus.$on("deleteTodo",this.deleteTodo)},beforeDestroy(){this.$bus.$off("checkTodo"),this.$bus.$off("deleteTodo")}},L=j,E=(0,u.Z)(L,n,s,!1,null,null,null),N=E.exports;r.ZP.config.productionTip=!1,new r.ZP({el:"#app",render:t=>t(N),beforeCreate(){r.ZP.prototype.$bus=this}})}},o={};function e(r){var n=o[r];if(void 0!==n)return n.exports;var s=o[r]={exports:{}};return t[r].call(s.exports,s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(o,r,n,s){if(!r){var l=1/0;for(c=0;c<t.length;c++){r=t[c][0],n=t[c][1],s=t[c][2];for(var i=!0,d=0;d<r.length;d++)(!1&s||l>=s)&&Object.keys(e.O).every((function(t){return e.O[t](r[d])}))?r.splice(d--,1):(i=!1,s<l&&(l=s));if(i){t.splice(c--,1);var a=n();void 0!==a&&(o=a)}}return o}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[r,n,s]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,r){var n,s,l=r[0],i=r[1],d=r[2],a=0;if(l.some((function(o){return 0!==t[o]}))){for(n in i)e.o(i,n)&&(e.m[n]=i[n]);if(d)var c=d(e)}for(o&&o(r);a<l.length;a++)s=l[a],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(c)},r=self["webpackChunkffff"]=self["webpackChunkffff"]||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))}();var r=e.O(void 0,[998],(function(){return e(7372)}));r=e.O(r)})();
//# sourceMappingURL=app.a5fd53d6.js.map